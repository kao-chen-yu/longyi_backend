{"version":3,"sources":["webpack:///./src/components/home/LocalStorange.vue?9636","webpack:///./src/utils/resetForm.js","webpack:///src/components/home/LocalStorange.vue","webpack:///./src/components/home/LocalStorange.vue?94ad","webpack:///./src/components/home/LocalStorange.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","ref","staticStyle","attrs","form","on","onChangeItem","model","value","callback","$$v","$set","expression","_l","item","index","key","name","id","loadLastData","onSubmit","$event","handleReset","staticRenderFns","resetForm","target","reset","obj","Object","keys","map","Array","data","prefer","date","time","type","savedForm","preferItems","methods","setTimeout","localStorage","setItem","JSON","stringify","parse","getItem","reloadSavedForm","stored","created","component"],"mappings":"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","file":"js/chunk-2d0e24f6.afd0e83b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page el-customize\"},[_c('h2',[_vm._v(\"作業：自動儲存與載入表單內容\")]),_c('b',[_vm._v(\"Context:\")]),_vm._m(0),_c('b',[_vm._v(\"Force:\")]),_vm._m(1),_c('p',[_vm._v(\"----------作答區----------\")]),_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"600px\"},attrs:{\"model\":_vm.form,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"御主姓名\"}},[_c('el-input',{on:{\"change\":_vm.onChangeItem},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"偏好職階\"}},[_c('el-select',{attrs:{\"placeholder\":\"請選擇偏好職階\"},on:{\"change\":_vm.onChangeItem},model:{value:(_vm.form.prefer),callback:function ($$v) {_vm.$set(_vm.form, \"prefer\", $$v)},expression:\"form.prefer\"}},_vm._l((_vm.preferItems),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"申請時間\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"選擇日期\"},on:{\"change\":_vm.onChangeItem},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_c('el-col',{attrs:{\"span\":11}},[_c('el-time-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"選擇時間\"},on:{\"change\":_vm.onChangeItem},model:{value:(_vm.form.time),callback:function ($$v) {_vm.$set(_vm.form, \"time\", $$v)},expression:\"form.time\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"想成為御主的理由\"}},[_c('el-checkbox-group',{on:{\"change\":_vm.onChangeItem},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-checkbox',{attrs:{\"label\":\"可以和好多女性從者這個那個\",\"name\":\"type\"}}),_c('el-checkbox',{attrs:{\"label\":\"拯救世界\",\"name\":\"type\"}}),_c('el-checkbox',{attrs:{\"label\":\"可以拿好多好多的聖晶石\",\"name\":\"type\"}}),_c('el-checkbox',{attrs:{\"label\":\"我是興趣使然的御主\",\"name\":\"type\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadLastData}},[_vm._v(\"載入上一次填寫內容\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"送出申請\")]),_c('el-button',{on:{\"click\":function($event){return _vm.handleReset(_vm.form)}}},[_vm._v(\"重置表單\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"避免填寫到一半的表單因為斷線、重新整理、或誤關閉網頁造成必須從頭開始填寫狀況\")]),_c('li',[_vm._v(\"為了方便再次進入填寫步驟時可以自動帶入User上一次的填寫內容，需要載入已儲存的欄位內容\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"請使用Local Storange將輸入一半的表單內容保留，重新整理時務必顯示已填寫的部分內容\")]),_c('li',[_vm._v(\"當按下「載入上一次填寫的內容」時，完整的自動填寫上一次「成功送出」後的所有欄位\")])])}]\n\nexport { render, staticRenderFns }","export const resetForm = (target) => {\n  const reset = (obj) => {\n    Object.keys(obj).map(key => {\n      if (obj[key] === Object(obj[key])) {\n        reset(obj[key])\n        if (obj[key] instanceof Array) {\n          obj[key] = []\n        }\n        return\n      }\n      else {\n        obj[key] = ''\n      }\n    })\n  }\n  reset(target)\n}","<template>\n  <div class=\"page el-customize\">\n    <!-- <h1>課堂範例：Local Storange 基礎用法</h1>\n    <div class=\"row horizontal v_center\" data-space=\"space-vertical\">\n      <el-button type=\"primary\" @click=\"setLocalStorange\">SET</el-button>\n      <el-button @click=\"removeLocalStorange\">Clear</el-button>\n      <el-button type=\"primary\" @click=\"$router.push({name: 'LocalStorangeCardResult'})\">NEXT Page</el-button>\n    </div> -->\n    <h2>作業：自動儲存與載入表單內容</h2>\n    <b>Context:</b>\n    <ul>\n      <li>避免填寫到一半的表單因為斷線、重新整理、或誤關閉網頁造成必須從頭開始填寫狀況</li>\n      <li>為了方便再次進入填寫步驟時可以自動帶入User上一次的填寫內容，需要載入已儲存的欄位內容</li>\n    </ul>\n\n    <b>Force:</b>\n    <ul>\n      <li>請使用Local Storange將輸入一半的表單內容保留，重新整理時務必顯示已填寫的部分內容</li>\n      <li>當按下「載入上一次填寫的內容」時，完整的自動填寫上一次「成功送出」後的所有欄位</li>\n    </ul>\n\n    <p>----------作答區----------</p>\n\n    <el-form ref=\"form\" :model=\"form\" label-width=\"150px\" style=\"width: 600px\">\n      <el-form-item label=\"御主姓名\">\n        <el-input v-model=\"form.name\" @change=\"onChangeItem\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"偏好職階\">\n        <el-select v-model=\"form.prefer\" placeholder=\"請選擇偏好職階\" @change=\"onChangeItem\">\n          <el-option v-for=\"(item, index) in preferItems\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"申請時間\">\n        <el-col :span=\"11\">\n          <el-date-picker type=\"date\" placeholder=\"選擇日期\" v-model=\"form.date\" style=\"width: 100%;\" @change=\"onChangeItem\"></el-date-picker>\n        </el-col>\n        <el-col :span=\"11\">\n          <el-time-picker placeholder=\"選擇時間\" v-model=\"form.time\" style=\"width: 100%;\" @change=\"onChangeItem\"></el-time-picker>\n        </el-col>\n      </el-form-item>\n      <el-form-item label=\"想成為御主的理由\">\n        <el-checkbox-group v-model=\"form.type\" @change=\"onChangeItem\">\n          <el-checkbox label=\"可以和好多女性從者這個那個\" name=\"type\"></el-checkbox>\n          <el-checkbox label=\"拯救世界\" name=\"type\"></el-checkbox>\n          <el-checkbox label=\"可以拿好多好多的聖晶石\" name=\"type\"></el-checkbox>\n          <el-checkbox label=\"我是興趣使然的御主\" name=\"type\"></el-checkbox>\n        </el-checkbox-group>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"loadLastData\">載入上一次填寫內容</el-button>\n        <el-button type=\"primary\" @click=\"onSubmit\">送出申請</el-button>\n        <el-button @click=\"handleReset(form)\">重置表單</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nimport { resetForm } from 'utils/resetForm'\nexport default {\n  data() {\n    return {\n      form: {\n        name: '',\n        prefer: '',\n        date: '',\n        time: '',\n        type: []\n      },\n      savedForm: {},\n      preferItems: [\n        { id: 0, name: 'Ruler' },\n        { id: 1, name: 'Saber' },\n        { id: 2, name: 'Archer' },\n        { id: 3, name: 'Lancer' },\n        { id: 4, name: 'Rider' },\n        { id: 5, name: 'Caster' },\n        { id: 6, name: 'Assassin' },\n        { id: 6, name: 'Berserker' },\n        { id: 8, name: 'Avenger' },\n        { id: 9, name: 'Alterego' },\n        { id: 10, name: 'Foreigner' },\n        { id: 11, name: 'Shielder' }\n      ],\n      // card: {\n      //   class: 'saber',\n      //   name: 'アルトリア(リリィ)',\n      //   rare: '4'\n      // }\n    }\n  },\n\n  methods: {\n    onChangeItem() {\n      setTimeout(()=>{\n        localStorage.setItem('form', JSON.stringify(this.form))\n      }, 2000)\n    },\n\n    // 表單送出\n    onSubmit() {\n      localStorage.setItem('submitSuccess', JSON.stringify(this.form))\n    },\n    // 載入前一次成功送出的內容\n    loadLastData() {\n      this.savedForm = JSON.parse(localStorage.getItem('submitSuccess'))\n      this.form = this.savedForm\n    },\n\n    // 重置表單\n    handleReset(obj) {\n      resetForm(obj)\n      obj.date = ''\n      obj.time = ''\n    },\n\n    reloadSavedForm() {\n      const stored = JSON.parse(localStorage.getItem('form'))\n      if (stored !== null) {\n        this.form = stored\n      }\n    },\n    // setLocalStorange() {\n    //   const targetCard = this.card\n    //   localStorage.setItem('card', JSON.stringify(targetCard))\n    // },\n\n    // removeLocalStorange() {\n    //   localStorage.removeItem('card')\n    // }\n  },\n\n  created() {\n    this.reloadSavedForm()\n    // this.setLocalStorange()\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocalStorange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LocalStorange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LocalStorange.vue?vue&type=template&id=ddba21bc&\"\nimport script from \"./LocalStorange.vue?vue&type=script&lang=js&\"\nexport * from \"./LocalStorange.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}